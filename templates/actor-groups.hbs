<form class="hearme-actor-groups">
  <p>
    Create groups with custom sounds. The <strong>first matching group</strong> (top to bottom) determines the sound.<br>
    <strong>Exact Names</strong>: comma-separated, must match actor name exactly (case-insensitive).<br>
    <strong>Contains Keywords</strong>: comma-separated, matches if actor name contains any keyword.
  </p>

  <ol class="groups-list">
    {{#each groups}}
    <li class="group flexcol" style="margin-bottom: 12px; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
      <div class="flexrow" style="align-items: center; gap: 8px;">
        <i class="fas fa-grip-lines drag-handle" style="cursor: move; color: #666;"></i>
        <input type="text" name="{{@index}}.name" value="{{name}}" placeholder="Group Name (e.g. Players)" style="flex: 2" />
        <input type="text" name="{{@index}}.sound" value="{{sound}}" placeholder="Sound path" style="flex: 3" />
        <a class="file-picker" data-type="audio" data-target="{{@index}}.sound" title="Browse Files"><i class="fas fa-file-audio"></i></a>
        <button type="button" class="remove-group" data-idx="{{@index}}" style="margin-left: auto;"><i class="fas fa-trash"></i></button>
      </div>

      <div class="flexrow" style="margin-top: 8px; gap: 8px;">
        <input type="text" name="{{@index}}.exactNames" value="{{exactNames}}" placeholder='Exact Names (e.g. "Alice, Bob, Evil King")' style="flex: 1" />
      </div>

      <div class="flexrow" style="margin-top: 4px; gap: 8px;">
        <input type="text" name="{{@index}}.containsKeywords" value="{{containsKeywords}}" placeholder='Contains Keywords (e.g. "undead, goblin, dragon")' style="flex: 1" />
      </div>
    </li>
    {{/each}}
  </ol>

  <footer class="sheet-footer flexrow" style="margin-top: 12px;">
    <button type="button" class="add-group"><i class="fas fa-plus"></i> Add Group</button>
    <button type="submit"><i class="fas fa-save"></i> Save Changes</button>
  </footer>
</form>
